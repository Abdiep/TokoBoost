(()=>{var e={};e.id=974,e.ids=[974],e.modules={3295:e=>{"use strict";e.exports=require("next/dist/server/app-render/after-task-async-storage.external.js")},10846:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},19121:e=>{"use strict";e.exports=require("next/dist/server/app-render/action-async-storage.external.js")},21204:(e,r,t)=>{"use strict";t.r(r),t.d(r,{default:()=>l});var a=t(37413),n=t(29008);function l(){return(0,a.jsx)(n.default,{})}},27910:e=>{"use strict";e.exports=require("stream")},28354:e=>{"use strict";e.exports=require("util")},29008:(e,r,t)=>{"use strict";t.d(r,{default:()=>a});let a=(0,t(12907).registerClientReference)(function(){throw Error("Attempted to call the default export of \"/home/user/studio/src/components/AppPage.tsx\" from the server, but it's on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"/home/user/studio/src/components/AppPage.tsx","default")},29294:e=>{"use strict";e.exports=require("next/dist/server/app-render/work-async-storage.external.js")},33873:e=>{"use strict";e.exports=require("path")},34631:e=>{"use strict";e.exports=require("tls")},34729:(e,r,t)=>{"use strict";t.d(r,{T:()=>i});var a=t(60687),n=t(43210),l=t(4780);let i=n.forwardRef(({className:e,...r},t)=>(0,a.jsx)("textarea",{className:(0,l.cn)("flex min-h-[80px] w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",e),ref:t,...r}));i.displayName="Textarea"},36706:(e,r,t)=>{Promise.resolve().then(t.bind(t,41686))},41686:(e,r,t)=>{"use strict";t.d(r,{default:()=>ex});var a=t(60687),n=t(43210),l=t(16189),i=t(30474),s=t(29523),o=t(44493),d=t(54300),c=t(34729),u=t(35079),p=t(29867),h=t(24414),m=t(11516),f=t(82614);let x=(0,f.A)("FileText",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]]),v=(0,f.A)("Upload",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]]),g=(0,f.A)("Image",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}]]),w=(0,f.A)("Camera",[["path",{d:"M14.5 4h-5L7 7H4a2 2 0 0 0-2 2v9a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2V9a2 2 0 0 0-2-2h-3l-2.5-3z",key:"1tc9qg"}],["circle",{cx:"12",cy:"13",r:"3",key:"1vg3eu"}]]);var b=t(57736);let y=(0,f.A)("Sparkles",[["path",{d:"M9.937 15.5A2 2 0 0 0 8.5 14.063l-6.135-1.582a.5.5 0 0 1 0-.962L8.5 9.936A2 2 0 0 0 9.937 8.5l1.582-6.135a.5.5 0 0 1 .963 0L14.063 8.5A2 2 0 0 0 15.5 9.937l6.135 1.581a.5.5 0 0 1 0 .964L15.5 14.063a2 2 0 0 0-1.437 1.437l-1.582 6.135a.5.5 0 0 1-.963 0z",key:"4pj2yx"}],["path",{d:"M20 3v4",key:"1olli1"}],["path",{d:"M22 5h-4",key:"1gvqau"}],["path",{d:"M4 17v2",key:"vumght"}],["path",{d:"M5 18H3",key:"zchphs"}]]),j=(0,f.A)("Info",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]]),k=(0,f.A)("TriangleAlert",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]),N=(0,f.A)("Copy",[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]]),S=(0,f.A)("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]]);var C=t(3416),P=t(46059),A=t(11273),T=t(98599),E=t(13495),R=t(43),L=t(66156),_=t(70569),D="ScrollArea",[M,H]=(0,A.A)(D),[z,q]=M(D),G=n.forwardRef((e,r)=>{let{__scopeScrollArea:t,type:l="hover",dir:i,scrollHideDelay:s=600,...o}=e,[d,c]=n.useState(null),[u,p]=n.useState(null),[h,m]=n.useState(null),[f,x]=n.useState(null),[v,g]=n.useState(null),[w,b]=n.useState(0),[y,j]=n.useState(0),[k,N]=n.useState(!1),[S,P]=n.useState(!1),A=(0,T.s)(r,e=>c(e)),E=(0,R.jH)(i);return(0,a.jsx)(z,{scope:t,type:l,dir:E,scrollHideDelay:s,scrollArea:d,viewport:u,onViewportChange:p,content:h,onContentChange:m,scrollbarX:f,onScrollbarXChange:x,scrollbarXEnabled:k,onScrollbarXEnabledChange:N,scrollbarY:v,onScrollbarYChange:g,scrollbarYEnabled:S,onScrollbarYEnabledChange:P,onCornerWidthChange:b,onCornerHeightChange:j,children:(0,a.jsx)(C.sG.div,{dir:E,...o,ref:A,style:{position:"relative","--radix-scroll-area-corner-width":w+"px","--radix-scroll-area-corner-height":y+"px",...e.style}})})});G.displayName=D;var I="ScrollAreaViewport",U=n.forwardRef((e,r)=>{let{__scopeScrollArea:t,children:l,nonce:i,...s}=e,o=q(I,t),d=n.useRef(null),c=(0,T.s)(r,d,o.onViewportChange);return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)("style",{dangerouslySetInnerHTML:{__html:"[data-radix-scroll-area-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-scroll-area-viewport]::-webkit-scrollbar{display:none}"},nonce:i}),(0,a.jsx)(C.sG.div,{"data-radix-scroll-area-viewport":"",...s,ref:c,style:{overflowX:o.scrollbarXEnabled?"scroll":"hidden",overflowY:o.scrollbarYEnabled?"scroll":"hidden",...e.style},children:(0,a.jsx)("div",{ref:o.onContentChange,style:{minWidth:"100%",display:"table"},children:l})})]})});U.displayName=I;var W="ScrollAreaScrollbar",B=n.forwardRef((e,r)=>{let{forceMount:t,...l}=e,i=q(W,e.__scopeScrollArea),{onScrollbarXEnabledChange:s,onScrollbarYEnabledChange:o}=i,d="horizontal"===e.orientation;return n.useEffect(()=>(d?s(!0):o(!0),()=>{d?s(!1):o(!1)}),[d,s,o]),"hover"===i.type?(0,a.jsx)(O,{...l,ref:r,forceMount:t}):"scroll"===i.type?(0,a.jsx)($,{...l,ref:r,forceMount:t}):"auto"===i.type?(0,a.jsx)(F,{...l,ref:r,forceMount:t}):"always"===i.type?(0,a.jsx)(X,{...l,ref:r}):null});B.displayName=W;var O=n.forwardRef((e,r)=>{let{forceMount:t,...l}=e,i=q(W,e.__scopeScrollArea),[s,o]=n.useState(!1);return n.useEffect(()=>{let e=i.scrollArea,r=0;if(e){let t=()=>{window.clearTimeout(r),o(!0)},a=()=>{r=window.setTimeout(()=>o(!1),i.scrollHideDelay)};return e.addEventListener("pointerenter",t),e.addEventListener("pointerleave",a),()=>{window.clearTimeout(r),e.removeEventListener("pointerenter",t),e.removeEventListener("pointerleave",a)}}},[i.scrollArea,i.scrollHideDelay]),(0,a.jsx)(P.C,{present:t||s,children:(0,a.jsx)(F,{"data-state":s?"visible":"hidden",...l,ref:r})})}),$=n.forwardRef((e,r)=>{var t,l;let{forceMount:i,...s}=e,o=q(W,e.__scopeScrollArea),d="horizontal"===e.orientation,c=eu(()=>p("SCROLL_END"),100),[u,p]=(t="hidden",l={hidden:{SCROLL:"scrolling"},scrolling:{SCROLL_END:"idle",POINTER_ENTER:"interacting"},interacting:{SCROLL:"interacting",POINTER_LEAVE:"idle"},idle:{HIDE:"hidden",SCROLL:"scrolling",POINTER_ENTER:"interacting"}},n.useReducer((e,r)=>l[e][r]??e,t));return n.useEffect(()=>{if("idle"===u){let e=window.setTimeout(()=>p("HIDE"),o.scrollHideDelay);return()=>window.clearTimeout(e)}},[u,o.scrollHideDelay,p]),n.useEffect(()=>{let e=o.viewport,r=d?"scrollLeft":"scrollTop";if(e){let t=e[r],a=()=>{let a=e[r];t!==a&&(p("SCROLL"),c()),t=a};return e.addEventListener("scroll",a),()=>e.removeEventListener("scroll",a)}},[o.viewport,d,p,c]),(0,a.jsx)(P.C,{present:i||"hidden"!==u,children:(0,a.jsx)(X,{"data-state":"hidden"===u?"hidden":"visible",...s,ref:r,onPointerEnter:(0,_.m)(e.onPointerEnter,()=>p("POINTER_ENTER")),onPointerLeave:(0,_.m)(e.onPointerLeave,()=>p("POINTER_LEAVE"))})})}),F=n.forwardRef((e,r)=>{let t=q(W,e.__scopeScrollArea),{forceMount:l,...i}=e,[s,o]=n.useState(!1),d="horizontal"===e.orientation,c=eu(()=>{if(t.viewport){let e=t.viewport.offsetWidth<t.viewport.scrollWidth,r=t.viewport.offsetHeight<t.viewport.scrollHeight;o(d?e:r)}},10);return ep(t.viewport,c),ep(t.content,c),(0,a.jsx)(P.C,{present:l||s,children:(0,a.jsx)(X,{"data-state":s?"visible":"hidden",...i,ref:r})})}),X=n.forwardRef((e,r)=>{let{orientation:t="vertical",...l}=e,i=q(W,e.__scopeScrollArea),s=n.useRef(null),o=n.useRef(0),[d,c]=n.useState({content:0,viewport:0,scrollbar:{size:0,paddingStart:0,paddingEnd:0}}),u=ei(d.viewport,d.content),p={...l,sizes:d,onSizesChange:c,hasThumb:!!(u>0&&u<1),onThumbChange:e=>s.current=e,onThumbPointerUp:()=>o.current=0,onThumbPointerDown:e=>o.current=e};function h(e,r){return function(e,r,t,a="ltr"){let n=es(t),l=r||n/2,i=t.scrollbar.paddingStart+l,s=t.scrollbar.size-t.scrollbar.paddingEnd-(n-l),o=t.content-t.viewport;return ed([i,s],"ltr"===a?[0,o]:[-1*o,0])(e)}(e,o.current,d,r)}return"horizontal"===t?(0,a.jsx)(Y,{...p,ref:r,onThumbPositionChange:()=>{if(i.viewport&&s.current){let e=eo(i.viewport.scrollLeft,d,i.dir);s.current.style.transform=`translate3d(${e}px, 0, 0)`}},onWheelScroll:e=>{i.viewport&&(i.viewport.scrollLeft=e)},onDragScroll:e=>{i.viewport&&(i.viewport.scrollLeft=h(e,i.dir))}}):"vertical"===t?(0,a.jsx)(K,{...p,ref:r,onThumbPositionChange:()=>{if(i.viewport&&s.current){let e=eo(i.viewport.scrollTop,d);s.current.style.transform=`translate3d(0, ${e}px, 0)`}},onWheelScroll:e=>{i.viewport&&(i.viewport.scrollTop=e)},onDragScroll:e=>{i.viewport&&(i.viewport.scrollTop=h(e))}}):null}),Y=n.forwardRef((e,r)=>{let{sizes:t,onSizesChange:l,...i}=e,s=q(W,e.__scopeScrollArea),[o,d]=n.useState(),c=n.useRef(null),u=(0,T.s)(r,c,s.onScrollbarXChange);return n.useEffect(()=>{c.current&&d(getComputedStyle(c.current))},[c]),(0,a.jsx)(J,{"data-orientation":"horizontal",...i,ref:u,sizes:t,style:{bottom:0,left:"rtl"===s.dir?"var(--radix-scroll-area-corner-width)":0,right:"ltr"===s.dir?"var(--radix-scroll-area-corner-width)":0,"--radix-scroll-area-thumb-width":es(t)+"px",...e.style},onThumbPointerDown:r=>e.onThumbPointerDown(r.x),onDragScroll:r=>e.onDragScroll(r.x),onWheelScroll:(r,t)=>{if(s.viewport){let a=s.viewport.scrollLeft+r.deltaX;e.onWheelScroll(a),function(e,r){return e>0&&e<r}(a,t)&&r.preventDefault()}},onResize:()=>{c.current&&s.viewport&&o&&l({content:s.viewport.scrollWidth,viewport:s.viewport.offsetWidth,scrollbar:{size:c.current.clientWidth,paddingStart:el(o.paddingLeft),paddingEnd:el(o.paddingRight)}})}})}),K=n.forwardRef((e,r)=>{let{sizes:t,onSizesChange:l,...i}=e,s=q(W,e.__scopeScrollArea),[o,d]=n.useState(),c=n.useRef(null),u=(0,T.s)(r,c,s.onScrollbarYChange);return n.useEffect(()=>{c.current&&d(getComputedStyle(c.current))},[c]),(0,a.jsx)(J,{"data-orientation":"vertical",...i,ref:u,sizes:t,style:{top:0,right:"ltr"===s.dir?0:void 0,left:"rtl"===s.dir?0:void 0,bottom:"var(--radix-scroll-area-corner-height)","--radix-scroll-area-thumb-height":es(t)+"px",...e.style},onThumbPointerDown:r=>e.onThumbPointerDown(r.y),onDragScroll:r=>e.onDragScroll(r.y),onWheelScroll:(r,t)=>{if(s.viewport){let a=s.viewport.scrollTop+r.deltaY;e.onWheelScroll(a),function(e,r){return e>0&&e<r}(a,t)&&r.preventDefault()}},onResize:()=>{c.current&&s.viewport&&o&&l({content:s.viewport.scrollHeight,viewport:s.viewport.offsetHeight,scrollbar:{size:c.current.clientHeight,paddingStart:el(o.paddingTop),paddingEnd:el(o.paddingBottom)}})}})}),[V,Z]=M(W),J=n.forwardRef((e,r)=>{let{__scopeScrollArea:t,sizes:l,hasThumb:i,onThumbChange:s,onThumbPointerUp:o,onThumbPointerDown:d,onThumbPositionChange:c,onDragScroll:u,onWheelScroll:p,onResize:h,...m}=e,f=q(W,t),[x,v]=n.useState(null),g=(0,T.s)(r,e=>v(e)),w=n.useRef(null),b=n.useRef(""),y=f.viewport,j=l.content-l.viewport,k=(0,E.c)(p),N=(0,E.c)(c),S=eu(h,10);function P(e){w.current&&u({x:e.clientX-w.current.left,y:e.clientY-w.current.top})}return n.useEffect(()=>{let e=e=>{let r=e.target;x?.contains(r)&&k(e,j)};return document.addEventListener("wheel",e,{passive:!1}),()=>document.removeEventListener("wheel",e,{passive:!1})},[y,x,j,k]),n.useEffect(N,[l,N]),ep(x,S),ep(f.content,S),(0,a.jsx)(V,{scope:t,scrollbar:x,hasThumb:i,onThumbChange:(0,E.c)(s),onThumbPointerUp:(0,E.c)(o),onThumbPositionChange:N,onThumbPointerDown:(0,E.c)(d),children:(0,a.jsx)(C.sG.div,{...m,ref:g,style:{position:"absolute",...m.style},onPointerDown:(0,_.m)(e.onPointerDown,e=>{0===e.button&&(e.target.setPointerCapture(e.pointerId),w.current=x.getBoundingClientRect(),b.current=document.body.style.webkitUserSelect,document.body.style.webkitUserSelect="none",f.viewport&&(f.viewport.style.scrollBehavior="auto"),P(e))}),onPointerMove:(0,_.m)(e.onPointerMove,P),onPointerUp:(0,_.m)(e.onPointerUp,e=>{let r=e.target;r.hasPointerCapture(e.pointerId)&&r.releasePointerCapture(e.pointerId),document.body.style.webkitUserSelect=b.current,f.viewport&&(f.viewport.style.scrollBehavior=""),w.current=null})})})}),Q="ScrollAreaThumb",ee=n.forwardRef((e,r)=>{let{forceMount:t,...n}=e,l=Z(Q,e.__scopeScrollArea);return(0,a.jsx)(P.C,{present:t||l.hasThumb,children:(0,a.jsx)(er,{ref:r,...n})})}),er=n.forwardRef((e,r)=>{let{__scopeScrollArea:t,style:l,...i}=e,s=q(Q,t),o=Z(Q,t),{onThumbPositionChange:d}=o,c=(0,T.s)(r,e=>o.onThumbChange(e)),u=n.useRef(void 0),p=eu(()=>{u.current&&(u.current(),u.current=void 0)},100);return n.useEffect(()=>{let e=s.viewport;if(e){let r=()=>{p(),u.current||(u.current=ec(e,d),d())};return d(),e.addEventListener("scroll",r),()=>e.removeEventListener("scroll",r)}},[s.viewport,p,d]),(0,a.jsx)(C.sG.div,{"data-state":o.hasThumb?"visible":"hidden",...i,ref:c,style:{width:"var(--radix-scroll-area-thumb-width)",height:"var(--radix-scroll-area-thumb-height)",...l},onPointerDownCapture:(0,_.m)(e.onPointerDownCapture,e=>{let r=e.target.getBoundingClientRect(),t=e.clientX-r.left,a=e.clientY-r.top;o.onThumbPointerDown({x:t,y:a})}),onPointerUp:(0,_.m)(e.onPointerUp,o.onThumbPointerUp)})});ee.displayName=Q;var et="ScrollAreaCorner",ea=n.forwardRef((e,r)=>{let t=q(et,e.__scopeScrollArea),n=!!(t.scrollbarX&&t.scrollbarY);return"scroll"!==t.type&&n?(0,a.jsx)(en,{...e,ref:r}):null});ea.displayName=et;var en=n.forwardRef((e,r)=>{let{__scopeScrollArea:t,...l}=e,i=q(et,t),[s,o]=n.useState(0),[d,c]=n.useState(0),u=!!(s&&d);return ep(i.scrollbarX,()=>{let e=i.scrollbarX?.offsetHeight||0;i.onCornerHeightChange(e),c(e)}),ep(i.scrollbarY,()=>{let e=i.scrollbarY?.offsetWidth||0;i.onCornerWidthChange(e),o(e)}),u?(0,a.jsx)(C.sG.div,{...l,ref:r,style:{width:s,height:d,position:"absolute",right:"ltr"===i.dir?0:void 0,left:"rtl"===i.dir?0:void 0,bottom:0,...e.style}}):null});function el(e){return e?parseInt(e,10):0}function ei(e,r){let t=e/r;return isNaN(t)?0:t}function es(e){let r=ei(e.viewport,e.content),t=e.scrollbar.paddingStart+e.scrollbar.paddingEnd;return Math.max((e.scrollbar.size-t)*r,18)}function eo(e,r,t="ltr"){let a=es(r),n=r.scrollbar.paddingStart+r.scrollbar.paddingEnd,l=r.scrollbar.size-n,i=r.content-r.viewport,s=function(e,[r,t]){return Math.min(t,Math.max(r,e))}(e,"ltr"===t?[0,i]:[-1*i,0]);return ed([0,i],[0,l-a])(s)}function ed(e,r){return t=>{if(e[0]===e[1]||r[0]===r[1])return r[0];let a=(r[1]-r[0])/(e[1]-e[0]);return r[0]+a*(t-e[0])}}var ec=(e,r=()=>{})=>{let t={left:e.scrollLeft,top:e.scrollTop},a=0;return!function n(){let l={left:e.scrollLeft,top:e.scrollTop},i=t.left!==l.left,s=t.top!==l.top;(i||s)&&r(),t=l,a=window.requestAnimationFrame(n)}(),()=>window.cancelAnimationFrame(a)};function eu(e,r){let t=(0,E.c)(e),a=n.useRef(0);return n.useEffect(()=>()=>window.clearTimeout(a.current),[]),n.useCallback(()=>{window.clearTimeout(a.current),a.current=window.setTimeout(t,r)},[t,r])}function ep(e,r){let t=(0,E.c)(r);(0,L.N)(()=>{let r=0;if(e){let a=new ResizeObserver(()=>{cancelAnimationFrame(r),r=window.requestAnimationFrame(t)});return a.observe(e),()=>{window.cancelAnimationFrame(r),a.unobserve(e)}}},[e,t])}var eh=t(4780);let em=n.forwardRef(({className:e,children:r,...t},n)=>(0,a.jsxs)(G,{ref:n,className:(0,eh.cn)("relative overflow-hidden",e),...t,children:[(0,a.jsx)(U,{className:"h-full w-full rounded-[inherit]",children:r}),(0,a.jsx)(ef,{}),(0,a.jsx)(ea,{})]}));em.displayName=G.displayName;let ef=n.forwardRef(({className:e,orientation:r="vertical",...t},n)=>(0,a.jsx)(B,{ref:n,orientation:r,className:(0,eh.cn)("flex touch-none select-none transition-colors","vertical"===r&&"h-full w-2.5 border-l border-l-transparent p-[1px]","horizontal"===r&&"h-2.5 flex-col border-t border-t-transparent p-[1px]",e),...t,children:(0,a.jsx)(ee,{className:"relative flex-1 rounded-full bg-border"})}));function ex(){let{isLoggedIn:e,credits:r,user:t}=(0,u.U)();(0,l.useRouter)();let{toast:f}=(0,p.dj)(),[C,P]=(0,n.useTransition)(),[A,T]=(0,n.useState)(null),[E,R]=(0,n.useState)(""),[L,_]=(0,n.useState)([]),[D,M]=(0,n.useState)(null),[H,z]=(0,n.useState)("idle"),q=(0,n.useRef)(null),G=(0,n.useRef)(null),I=e=>{let r=e.target.files?.[0];if(r){if(r.size>4194304)return void f({title:"Gambar Terlalu Besar",description:"Ukuran gambar tidak boleh melebihi 4MB.",variant:"destructive"});let e=new FileReader;e.onloadend=()=>{T(e.result)},e.readAsDataURL(r)}},U=async()=>A&&E?r<2?void f({title:"Kredit Tidak Cukup",description:"Anda memerlukan 2 kredit untuk membuat konten. Silakan top up.",variant:"destructive"}):t?void(z("generating"),_([]),M(null),P(async()=>{try{let e=await t.getIdToken(),r=await fetch("/api/generate",{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${e}`},body:JSON.stringify({productImage:A,productDescription:E})}),a=await r.json();if(!r.ok)throw Error(a.error||`API request failed with status ${r.status}`);_(a.captions),M(a.flyerImageUri),z("success"),f({title:"Pembuatan Konten Berhasil!",description:"Caption dan flyer baru Anda telah siap. Kredit Anda akan segera diperbarui."})}catch(e){console.error("AI Generation Error:",e),z("error"),f({title:"Terjadi Kesalahan",description:`Gagal membuat konten. Pesan: ${e instanceof Error?e.message:"Unknown error"}`,variant:"destructive"})}})):void f({title:"Sesi tidak valid, harap login kembali.",variant:"destructive"}):void f({title:"Data Tidak Lengkap",description:"Harap unggah gambar dan isi deskripsi produk.",variant:"destructive"}),W=e=>{let r=`${e.caption}

${e.hashtags}`;navigator.clipboard.writeText(r),f({title:"Caption & Hashtag Disalin!",description:"Anda dapat menempelkannya di media sosial."})};if(!e)return(0,a.jsx)("div",{className:"flex h-screen items-center justify-center",children:(0,a.jsx)(m.A,{className:"h-12 w-12 animate-spin"})});let B="generating"===H;return(0,a.jsxs)("div",{className:"flex min-h-screen flex-col",children:[(0,a.jsx)(h.A,{}),(0,a.jsx)("main",{className:"flex-grow container mx-auto px-4 md:px-6 py-8",children:(0,a.jsxs)("div",{className:"grid grid-cols-1 gap-8 lg:grid-cols-2",children:[(0,a.jsxs)(o.Zp,{className:"h-fit",children:[(0,a.jsxs)(o.aR,{children:[(0,a.jsxs)(o.ZB,{className:"flex items-center gap-2 font-headline text-2xl",children:[(0,a.jsx)(x,{}),"1. Masukkan Detail Produk"]}),(0,a.jsx)(o.BT,{children:"Unggah gambar dan tulis deskripsi singkat produk Anda. Proses ini membutuhkan 2 kredit."})]}),(0,a.jsxs)(o.Wu,{className:"space-y-6",children:[(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)(d.J,{htmlFor:"product-image",children:"Gambar Produk"}),(0,a.jsxs)("div",{className:"relative flex h-64 w-full items-center justify-center rounded-lg border-2 border-dashed border-border bg-muted/50 p-2",children:[(0,a.jsx)("input",{ref:q,id:"file-upload",type:"file",accept:"image/*",className:"hidden",onChange:I}),(0,a.jsx)("input",{ref:G,id:"camera-upload",type:"file",accept:"image/*",capture:"environment",className:"hidden",onChange:I}),A?(0,a.jsx)(i.default,{src:A,alt:"Pratinjau Produk",fill:!0,className:"object-contain"}):(0,a.jsxs)("div",{className:"flex flex-col items-center gap-4 text-center text-muted-foreground",children:[(0,a.jsx)(v,{className:"h-10 w-10"}),(0,a.jsx)("span",{className:"font-semibold",children:"Pilih Sumber Gambar"}),(0,a.jsxs)("div",{className:"flex w-full gap-3",children:[(0,a.jsxs)(s.$,{variant:"outline",className:"w-full",onClick:()=>q.current?.click(),children:[(0,a.jsx)(g,{className:"mr-2 h-4 w-4"}),"Galeri"]}),(0,a.jsxs)(s.$,{variant:"outline",className:"w-full",onClick:()=>G.current?.click(),children:[(0,a.jsx)(w,{className:"mr-2 h-4 w-4"}),"Kamera"]})]})]})]}),A&&(0,a.jsx)(s.$,{variant:"link",className:"w-full",onClick:()=>T(null),children:"Hapus Gambar"})]}),(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)(d.J,{htmlFor:"product-description",children:"Deskripsi Produk"}),(0,a.jsx)(c.T,{id:"product-description",placeholder:"Contoh: Sepatu lari ringan dengan teknologi bantalan terbaru, cocok untuk pemula maupun profesional.",rows:5,value:E,onChange:e=>R(e.target.value)})]})]}),(0,a.jsx)(o.wL,{children:(0,a.jsxs)(s.$,{onClick:U,disabled:B||!A||!E,className:"w-full",children:[B?(0,a.jsx)(m.A,{className:"mr-2 h-4 w-4 animate-spin"}):(0,a.jsx)(b.A,{className:"mr-2 h-4 w-4"}),B?"Membuat Konten...":"Buat Konten (2 Kredit)"]})})]}),(0,a.jsxs)(o.Zp,{className:"flex flex-col",children:[(0,a.jsxs)(o.aR,{children:[(0,a.jsxs)(o.ZB,{className:"flex items-center gap-2 font-headline text-2xl",children:[(0,a.jsx)(y,{}),"2. Hasil Generasi AI"]}),(0,a.jsx)(o.BT,{children:"Caption dan flyer yang dihasilkan oleh AI akan muncul di sini."})]}),(0,a.jsxs)(o.Wu,{className:"flex-grow flex flex-col",children:["idle"===H&&(0,a.jsxs)("div",{className:"flex h-full min-h-[400px] flex-col items-center justify-center gap-4 rounded-lg bg-muted/50 p-8 text-center text-muted-foreground",children:[(0,a.jsx)(j,{className:"h-12 w-12"}),(0,a.jsx)("p",{children:"Hasil akan ditampilkan di sini setelah Anda membuat konten."})]}),"generating"===H&&(0,a.jsxs)("div",{className:"flex h-full min-h-[400px] flex-col items-center justify-center gap-4 rounded-lg bg-muted/50 p-8 text-center text-muted-foreground",children:[(0,a.jsx)(m.A,{className:"h-12 w-12 animate-spin text-primary"}),(0,a.jsx)("p",{className:"font-semibold",children:"AI sedang bekerja..."}),(0,a.jsx)("p",{children:"Proses ini bisa memakan waktu hingga satu menit."})]}),"error"===H&&(0,a.jsxs)("div",{className:"flex h-full min-h-[400px] flex-col items-center justify-center gap-4 rounded-lg border-2 border-dashed border-destructive bg-destructive/10 p-8 text-center text-destructive",children:[(0,a.jsx)(k,{className:"h-12 w-12"}),(0,a.jsx)("p",{className:"font-semibold",children:"Gagal Menghasilkan Konten"}),(0,a.jsx)("p",{className:"text-sm",children:"Terjadi kesalahan. Silakan coba lagi."}),(0,a.jsx)(s.$,{variant:"destructive",onClick:U,children:"Coba Lagi"})]}),"success"===H&&(0,a.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6 h-full",children:[(0,a.jsxs)("div",{className:"space-y-3",children:[(0,a.jsx)("h3",{className:"font-headline text-lg",children:"Flyer Produk"}),(0,a.jsx)("div",{className:"aspect-[9/16] w-full rounded-lg bg-muted/50 relative overflow-hidden",children:D?(0,a.jsx)(i.default,{src:D,alt:"Generated Flyer",fill:!0,className:"object-cover"}):(0,a.jsxs)("div",{className:"flex items-center justify-center h-full text-muted-foreground text-sm",children:[(0,a.jsx)(m.A,{className:"mr-2 h-4 w-4 animate-spin"})," Sedang memuat flyer..."]})})]}),(0,a.jsxs)("div",{className:"space-y-3",children:[(0,a.jsx)("h3",{className:"font-headline text-lg",children:"Saran Caption & Hashtag"}),(0,a.jsx)(em,{className:"h-80 -mr-4 pr-4",children:(0,a.jsx)("div",{className:"space-y-4",children:L.length>0?L.map((e,r)=>(0,a.jsxs)("div",{className:"rounded-lg border bg-card p-4 space-y-3 relative pr-12",children:[(0,a.jsx)("p",{className:"text-sm",children:e.caption}),(0,a.jsx)("p",{className:"text-sm text-muted-foreground",children:e.hashtags}),(0,a.jsx)(s.$,{variant:"ghost",size:"icon",className:"absolute top-2 right-2 h-8 w-8",onClick:()=>W(e),children:(0,a.jsx)(N,{className:"h-4 w-4"})})]},r)):(0,a.jsxs)("div",{className:"text-sm text-muted-foreground",children:[(0,a.jsx)(m.A,{className:"mr-2 h-4 w-4 animate-spin inline-block"})," Sedang memuat caption..."]})})})]})]})]}),(0,a.jsxs)(o.wL,{className:"flex justify-end gap-2",children:[(0,a.jsx)(s.$,{variant:"outline",onClick:()=>{T(null),R(""),_([]),M(null),z("idle")},disabled:B||"success"!==H,children:"Buat Lagi"}),(0,a.jsxs)(s.$,{onClick:()=>{if(D){let e=document.createElement("a");e.href=D,e.download="flyer-produk.png",document.body.appendChild(e),e.click(),document.body.removeChild(e)}},disabled:B||!D,children:[(0,a.jsx)(S,{className:"mr-2 h-4 w-4"}),"Unduh Flyer"]})]})]})]})})]})}ef.displayName=B.displayName},54300:(e,r,t)=>{"use strict";t.d(r,{J:()=>c});var a=t(60687),n=t(43210),l=t(3416),i=n.forwardRef((e,r)=>(0,a.jsx)(l.sG.label,{...e,ref:r,onMouseDown:r=>{r.target.closest("button, input, select, textarea")||(e.onMouseDown?.(r),!r.defaultPrevented&&r.detail>1&&r.preventDefault())}}));i.displayName="Label";var s=t(24224),o=t(4780);let d=(0,s.F)("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),c=n.forwardRef(({className:e,...r},t)=>(0,a.jsx)(i,{ref:t,className:(0,o.cn)(d(),e),...r}));c.displayName=i.displayName},55511:e=>{"use strict";e.exports=require("crypto")},63033:e=>{"use strict";e.exports=require("next/dist/server/app-render/work-unit-async-storage.external.js")},68250:(e,r,t)=>{Promise.resolve().then(t.bind(t,29008))},79428:e=>{"use strict";e.exports=require("buffer")},79551:e=>{"use strict";e.exports=require("url")},88271:(e,r,t)=>{"use strict";t.r(r),t.d(r,{GlobalError:()=>i.a,__next_app__:()=>u,pages:()=>c,routeModule:()=>p,tree:()=>d});var a=t(65239),n=t(48088),l=t(88170),i=t.n(l),s=t(30893),o={};for(let e in s)0>["default","tree","pages","GlobalError","__next_app__","routeModule"].indexOf(e)&&(o[e]=()=>s[e]);t.d(r,o);let d={children:["",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(t.bind(t,21204)),"/home/user/studio/src/app/page.tsx"],metadata:{icon:[async e=>(await Promise.resolve().then(t.bind(t,70440))).default(e)],apple:[],openGraph:[],twitter:[],manifest:void 0}}]},{layout:[()=>Promise.resolve().then(t.bind(t,94431)),"/home/user/studio/src/app/layout.tsx"],"not-found":[()=>Promise.resolve().then(t.t.bind(t,57398,23)),"next/dist/client/components/not-found-error"],forbidden:[()=>Promise.resolve().then(t.t.bind(t,89999,23)),"next/dist/client/components/forbidden-error"],unauthorized:[()=>Promise.resolve().then(t.t.bind(t,65284,23)),"next/dist/client/components/unauthorized-error"],metadata:{icon:[async e=>(await Promise.resolve().then(t.bind(t,70440))).default(e)],apple:[],openGraph:[],twitter:[],manifest:void 0}}]}.children,c=["/home/user/studio/src/app/page.tsx"],u={require:t,loadChunk:()=>Promise.resolve()},p=new a.AppPageRouteModule({definition:{kind:n.RouteKind.APP_PAGE,page:"/page",pathname:"/",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:d}})},91645:e=>{"use strict";e.exports=require("net")},94735:e=>{"use strict";e.exports=require("events")}};var r=require("../webpack-runtime.js");r.C(e);var t=e=>r(r.s=e),a=r.X(0,[447,724,466,30,581,474,943,213],()=>t(88271));module.exports=a})();